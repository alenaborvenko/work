<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html">
<head>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF8">
    <title>Вход</title>
    <meta charset="UTF-8">
</head>
<body>
<form name="toUpBalance" method="post" id = 'auto' action="/pagesForResult/topUpBalance">
    <p><b>Введите номер счета</b><br>
        <input name ="number" type="text" size="40" id = "number">
        <input name ="balance" type="text" size="40" id = "balance">
    <p><input type="submit" value="Ввод" onclick="sendJSON()">
</form>
<script type="text/javascript">
    function sendJSON() {
        let form = document.forms["toUpBalance"];
        let fd = new FormData(form);
        let data = {};
        for (let [key, prop] of fd) {
            data[key] = prop;
        }
        data = JSON.stringify(data, null, 2);

        let xmlhttp;
        xmlhttp = new XMLHttpRequest();
        xmlhttp.open("POST", "/pagesForResult/topUpBalance", true);
        xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        xmlhttp.send(data);
    }
</script>
</body>
</html>